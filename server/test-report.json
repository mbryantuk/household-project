{
  "numFailedTestSuites": 3,
  "numFailedTests": 9,
  "numPassedTestSuites": 12,
  "numPassedTests": 37,
  "numPendingTestSuites": 0,
  "numPendingTests": 0,
  "numRuntimeErrorTestSuites": 1,
  "numTodoTests": 0,
  "numTotalTestSuites": 15,
  "numTotalTests": 46,
  "openHandles": [],
  "snapshot": {
    "added": 0,
    "didUpdate": false,
    "failure": false,
    "filesAdded": 0,
    "filesRemoved": 0,
    "filesRemovedList": [],
    "filesUnmatched": 0,
    "filesUpdated": 0,
    "matched": 0,
    "total": 0,
    "unchecked": 0,
    "uncheckedKeysByFile": [],
    "unmatched": 0,
    "updated": 0
  },
  "startTime": 1770810768723,
  "success": false,
  "testResults": [
    {
      "leaks": false,
      "numFailingTests": 6,
      "numPassingTests": 0,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810771775,
        "runtime": 2886,
        "slow": false,
        "start": 1770810768889
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/shopping.spec.js",
      "testResults": [
        {
          "ancestorTitles": [
            "Shopping List API"
          ],
          "duration": 33,
          "failureDetails": [
            {
              "matcherResult": {
                "actual": 500,
                "expected": 201,
                "message": "\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m201\u001b[39m\nReceived: \u001b[31m500\u001b[39m",
                "name": "toBe",
                "pass": false
              }
            }
          ],
          "failureMessages": [
            "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m201\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/home/matt/household-project/server/tests/shopping.spec.js:64:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
          ],
          "fullName": "Shopping List API should add a shopping item",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should add a shopping item"
        },
        {
          "ancestorTitles": [
            "Shopping List API"
          ],
          "duration": 46,
          "failureDetails": [
            {
              "matcherResult": {
                "actual": 500,
                "expected": 200,
                "message": "\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m",
                "name": "toBe",
                "pass": false
              }
            }
          ],
          "failureMessages": [
            "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/home/matt/household-project/server/tests/shopping.spec.js:80:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
          ],
          "fullName": "Shopping List API should list shopping items and calculate budget",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should list shopping items and calculate budget"
        },
        {
          "ancestorTitles": [
            "Shopping List API"
          ],
          "duration": 31,
          "failureDetails": [
            {
              "matcherResult": {
                "actual": 500,
                "expected": 200,
                "message": "\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m",
                "name": "toBe",
                "pass": false
              }
            }
          ],
          "failureMessages": [
            "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/home/matt/household-project/server/tests/shopping.spec.js:99:38)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
          ],
          "fullName": "Shopping List API should update an item",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should update an item"
        },
        {
          "ancestorTitles": [
            "Shopping List API"
          ],
          "duration": 29,
          "failureDetails": [
            {
              "matcherResult": {
                "actual": 500,
                "expected": 200,
                "message": "\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m",
                "name": "toBe",
                "pass": false
              }
            }
          ],
          "failureMessages": [
            "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/home/matt/household-project/server/tests/shopping.spec.js:114:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
          ],
          "fullName": "Shopping List API should delete an item",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should delete an item"
        },
        {
          "ancestorTitles": [
            "Shopping List API"
          ],
          "duration": 27,
          "failureDetails": [
            {
              "matcherResult": {
                "actual": 500,
                "expected": 200,
                "message": "\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m",
                "name": "toBe",
                "pass": false
              }
            }
          ],
          "failureMessages": [
            "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/home/matt/household-project/server/tests/shopping.spec.js:129:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
          ],
          "fullName": "Shopping List API should NOT see items from another household (Tenancy Rule)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should NOT see items from another household (Tenancy Rule)"
        },
        {
          "ancestorTitles": [
            "Shopping List API"
          ],
          "duration": 54,
          "failureDetails": [
            {
              "matcherResult": {
                "actual": 500,
                "expected": 200,
                "message": "\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m",
                "name": "toBe",
                "pass": false
              }
            }
          ],
          "failureMessages": [
            "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/home/matt/household-project/server/tests/shopping.spec.js:161:37)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
          ],
          "fullName": "Shopping List API should clear checked items",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should clear checked items"
        }
      ],
      "failureMessage": "\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mShopping List API â€º should add a shopping item\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m201\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 62 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 63 |\u001b[39m         \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 64 |\u001b[39m         expect(res\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 65 |\u001b[39m         expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mname)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Milk'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 66 |\u001b[39m         expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mestimated_cost)\u001b[33m.\u001b[39mtoBe(\u001b[35m2.5\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 67 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/shopping.spec.js\u001b[39m\u001b[0m\u001b[2m:64:32)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mShopping List API â€º should list shopping items and calculate budget\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 78 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 79 |\u001b[39m         \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 80 |\u001b[39m         expect(res\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 81 |\u001b[39m         expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mitems\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 82 |\u001b[39m         expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msummary\u001b[33m.\u001b[39mtotal_estimated_cost)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m4.0\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 2.5 + 1.5\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 83 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/shopping.spec.js\u001b[39m\u001b[0m\u001b[2m:80:32)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mShopping List API â€º should update an item\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  97 |\u001b[39m             \u001b[33m.\u001b[39msend({ is_checked\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m quantity\u001b[33m:\u001b[39m \u001b[32m'12'\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  98 |\u001b[39m         \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m  99 |\u001b[39m         expect(updateRes\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 100 |\u001b[39m         expect(updateRes\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mis_checked)\u001b[33m.\u001b[39mtoBe(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 101 |\u001b[39m         expect(updateRes\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mquantity)\u001b[33m.\u001b[39mtoBe(\u001b[32m'12'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 102 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/shopping.spec.js\u001b[39m\u001b[0m\u001b[2m:99:38)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mShopping List API â€º should delete an item\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 112 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m         \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 114 |\u001b[39m         expect(res\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 115 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 116 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 117 |\u001b[39m     test(\u001b[32m'should NOT see items from another household (Tenancy Rule)'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/shopping.spec.js\u001b[39m\u001b[0m\u001b[2m:114:32)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mShopping List API â€º should NOT see items from another household (Tenancy Rule)\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 127 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${otherToken}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 128 |\u001b[39m         \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 129 |\u001b[39m         expect(res\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 130 |\u001b[39m         \u001b[36mconst\u001b[39m secretItem \u001b[33m=\u001b[39m res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mitems\u001b[33m.\u001b[39mfind(i \u001b[33m=>\u001b[39m i\u001b[33m.\u001b[39mname \u001b[33m===\u001b[39m \u001b[32m'Primary Secret'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 131 |\u001b[39m         expect(secretItem)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 132 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/shopping.spec.js\u001b[39m\u001b[0m\u001b[2m:129:32)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mShopping List API â€º should clear checked items\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 159 |\u001b[39m             \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 160 |\u001b[39m         \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 161 |\u001b[39m         expect(clearRes\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 162 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m         \u001b[90m// Verify gone\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 164 |\u001b[39m         \u001b[36mconst\u001b[39m listRes \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/shopping.spec.js\u001b[39m\u001b[0m\u001b[2m:161:37)\u001b[22m\u001b[2m\u001b[22m\n"
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 6,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810773458,
        "runtime": 1457,
        "slow": false,
        "start": 1770810772001
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/security/api_coverage_and_rbac.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification"
          ],
          "duration": 15,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification ğŸ”‘ Authentication Profile",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 2,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ”‘ Authentication Profile"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification"
          ],
          "duration": 144,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification ğŸ”„ Module: Recurring Costs (Consolidated)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 8,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ”„ Module: Recurring Costs (Consolidated)"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification"
          ],
          "duration": 105,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification ğŸ‘¥ Module: People",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 9,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ‘¥ Module: People"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification"
          ],
          "duration": 101,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification ğŸš— Module: Vehicles",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 9,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸš— Module: Vehicles"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification"
          ],
          "duration": 159,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification ğŸ’° Module: Finance (Core)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 17,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ’° Module: Finance (Core)"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification"
          ],
          "duration": 19,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Comprehensive Backend API & RBAC Verification ğŸ± Module: Meals",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 2,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ± Module: Meals"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 3,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810774381,
        "runtime": 768,
        "slow": false,
        "start": 1770810773613
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/finance_routing.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "ğŸ’° Finance Routing Verification"
          ],
          "duration": 66,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ’° Finance Routing Verification GET /api/households/:id/finance/savings/pots should not return 404",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 2,
          "retryReasons": [],
          "status": "passed",
          "title": "GET /api/households/:id/finance/savings/pots should not return 404"
        },
        {
          "ancestorTitles": [
            "ğŸ’° Finance Routing Verification"
          ],
          "duration": 42,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ’° Finance Routing Verification GET /api/households/:id/finance/savings/:itemId should still work for valid items",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 3,
          "retryReasons": [],
          "status": "passed",
          "title": "GET /api/households/:id/finance/savings/:itemId should still work for valid items"
        },
        {
          "ancestorTitles": [
            "ğŸ’° Finance Routing Verification"
          ],
          "duration": 17,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ’° Finance Routing Verification GET /api/households/:id/finance/savings/999999 should return 404",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "GET /api/households/:id/finance/savings/999999 should return 404"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 2,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810775523,
        "runtime": 1099,
        "slow": false,
        "start": 1770810774424
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/export_json.spec.js",
      "testResults": [
        {
          "ancestorTitles": [
            "ğŸš€ JSON Tenant Export Verification"
          ],
          "duration": 195,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸš€ JSON Tenant Export Verification GET /api/export/:id should return a full JSON package",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 10,
          "retryReasons": [],
          "status": "passed",
          "title": "GET /api/export/:id should return a full JSON package"
        },
        {
          "ancestorTitles": [
            "ğŸš€ JSON Tenant Export Verification"
          ],
          "duration": 137,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸš€ JSON Tenant Export Verification Unauthorized user should not be able to export",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "Unauthorized user should not be able to export"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 3,
      "numPassingTests": 0,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810776026,
        "runtime": 478,
        "slow": false,
        "start": 1770810775548
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/export.spec.js",
      "testResults": [
        {
          "ancestorTitles": [
            "GET /api/export/:household_id"
          ],
          "duration": 50,
          "failureDetails": [
            {
              "matcherResult": {
                "actual": 404,
                "expected": 400,
                "message": "\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m404\u001b[39m",
                "name": "toEqual",
                "pass": false
              }
            }
          ],
          "failureMessages": [
            "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at Object.toEqual (/home/matt/household-project/server/tests/export.spec.js:20:28)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
          ],
          "fullName": "GET /api/export/:household_id should return 400 if household_id is missing",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should return 400 if household_id is missing"
        },
        {
          "ancestorTitles": [
            "GET /api/export/:household_id"
          ],
          "duration": 4,
          "failureDetails": [
            {}
          ],
          "failureMessages": [
            "TypeError: db.run is not a function\n    at Object.run (/home/matt/household-project/server/tests/export.spec.js:27:14)\n    at Promise.then.completed (/home/matt/household-project/server/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/matt/household-project/server/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/matt/household-project/server/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/matt/household-project/server/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/matt/household-project/server/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/matt/household-project/server/node_modules/jest-runner/build/runTest.js:444:34)"
          ],
          "fullName": "GET /api/export/:household_id should return 200 and export data if household_id is valid",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should return 200 and export data if household_id is valid"
        },
        {
          "ancestorTitles": [
            "GET /api/export/:household_id"
          ],
          "duration": 3,
          "failureDetails": [
            {}
          ],
          "failureMessages": [
            "Error: Property `all` does not exist in the provided object\n    at ModuleMocker.spyOn (/home/matt/household-project/server/node_modules/jest-mock/build/index.js:731:13)\n    at Object.spyOn (/home/matt/household-project/server/tests/export.spec.js:48:10)\n    at Promise.then.completed (/home/matt/household-project/server/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/matt/household-project/server/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/matt/household-project/server/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/matt/household-project/server/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/matt/household-project/server/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/matt/household-project/server/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/matt/household-project/server/node_modules/jest-runner/build/runTest.js:444:34)"
          ],
          "fullName": "GET /api/export/:household_id should return 500 if there is a server error",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 0,
          "retryReasons": [],
          "status": "failed",
          "title": "should return 500 if there is a server error"
        }
      ],
      "failureMessage": "\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mGET /api/export/:household_id â€º should return 400 if household_id is missing\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    Expected: \u001b[32m400\u001b[39m\n    Received: \u001b[31m404\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 18 |\u001b[39m   it(\u001b[32m'should return 400 if household_id is missing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 19 |\u001b[39m     \u001b[36mconst\u001b[39m res \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/api/export/'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 20 |\u001b[39m     expect(res\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoEqual(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 21 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoEqual(\u001b[32m'Household ID is required'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 23 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toEqual (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/export.spec.js\u001b[39m\u001b[0m\u001b[2m:20:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mGET /api/export/:household_id â€º should return 200 and export data if household_id is valid\u001b[39m\u001b[22m\n\n    TypeError: db.run is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 25 |\u001b[39m     \u001b[90m// Insert some test data into the database for this household_id\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m     \u001b[36mconst\u001b[39m household_id \u001b[33m=\u001b[39m \u001b[32m'test_household'\u001b[39m\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 27 |\u001b[39m     \u001b[36mawait\u001b[39m db\u001b[33m.\u001b[39mrun(\u001b[32m'INSERT INTO users (household_id, name) VALUES (?, ?)'\u001b[39m\u001b[33m,\u001b[39m [household_id\u001b[33m,\u001b[39m \u001b[32m'Test User'\u001b[39m])\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 28 |\u001b[39m     \u001b[36mawait\u001b[39m db\u001b[33m.\u001b[39mrun(\u001b[32m'INSERT INTO assets (household_id, name) VALUES (?, ?)'\u001b[39m\u001b[33m,\u001b[39m [household_id\u001b[33m,\u001b[39m \u001b[32m'Test Asset'\u001b[39m])\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m     \u001b[36mconst\u001b[39m res \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m`/api/export/${household_id}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.run (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/export.spec.js\u001b[39m\u001b[0m\u001b[2m:27:14)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1mâ— \u001b[22m\u001b[1mGET /api/export/:household_id â€º should return 500 if there is a server error\u001b[39m\u001b[22m\n\n    Property `all` does not exist in the provided object\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 46 |\u001b[39m   it(\u001b[32m'should return 500 if there is a server error'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 47 |\u001b[39m     \u001b[90m// Mock the database to simulate an error\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 48 |\u001b[39m     jest\u001b[33m.\u001b[39mspyOn(db\u001b[33m,\u001b[39m \u001b[32m'all'\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 49 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Test error'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 50 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 51 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat ModuleMocker.spyOn (\u001b[22m\u001b[2mnode_modules/jest-mock/build/index.js\u001b[2m:731:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.spyOn (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/export.spec.js\u001b[39m\u001b[0m\u001b[2m:48:10)\u001b[22m\u001b[2m\u001b[22m\n"
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 3,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810776904,
        "runtime": 844,
        "slow": false,
        "start": 1770810776060
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/security/export_tenant.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Tenant Export Verification"
          ],
          "duration": 30,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Tenant Export Verification GET /api/admin/households/:id/export should return a backup filename (System Admin)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 4,
          "retryReasons": [],
          "status": "passed",
          "title": "GET /api/admin/households/:id/export should return a backup filename (System Admin)"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Tenant Export Verification"
          ],
          "duration": 123,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Tenant Export Verification Non-system-admin should not be able to export (even if household admin)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "Non-system-admin should not be able to export (even if household admin)"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Tenant Export Verification"
          ],
          "duration": 55,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Tenant Export Verification Export should contain manifest.json in the zip",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 5,
          "retryReasons": [],
          "status": "passed",
          "title": "Export should contain manifest.json in the zip"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 2,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810777802,
        "runtime": 865,
        "slow": false,
        "start": 1770810776937
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/security/destroy_tenant.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "ğŸ’£ Tenant Destruction & Cleanup"
          ],
          "duration": 147,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ’£ Tenant Destruction & Cleanup ğŸ§¨ Destroy Tenant: Regular Admin should remove all traces",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 4,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ§¨ Destroy Tenant: Regular Admin should remove all traces"
        },
        {
          "ancestorTitles": [
            "ğŸ’£ Tenant Destruction & Cleanup"
          ],
          "duration": 79,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ’£ Tenant Destruction & Cleanup ğŸ‘‘ Destroy Tenant: System Admin should be able to destroy ANY household",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 5,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ‘‘ Destroy Tenant: System Admin should be able to destroy ANY household"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 4,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810778665,
        "runtime": 828,
        "slow": false,
        "start": 1770810777837
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/security/advanced_integrity.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Advanced System Integrity & Security"
          ],
          "duration": 76,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Advanced System Integrity & Security ğŸ“… Friday Rule: Creation with valid payload",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ“… Friday Rule: Creation with valid payload"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Advanced System Integrity & Security"
          ],
          "duration": 61,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Advanced System Integrity & Security â™»ï¸ Idempotency: Duplicate creation check",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 2,
          "retryReasons": [],
          "status": "passed",
          "title": "â™»ï¸ Idempotency: Duplicate creation check"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Advanced System Integrity & Security"
          ],
          "duration": 30,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Advanced System Integrity & Security ğŸ›‘ Security: Path Traversal prevention",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 3,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ›‘ Security: Path Traversal prevention"
        },
        {
          "ancestorTitles": [
            "ğŸ›¡ï¸ Advanced System Integrity & Security"
          ],
          "duration": 24,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ›¡ï¸ Advanced System Integrity & Security ğŸ’¾ Integrity: Backup Trigger",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 2,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ’¾ Integrity: Backup Trigger"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 1,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810780659,
        "runtime": 1954,
        "slow": false,
        "start": 1770810778705
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/performance/concurrency.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "âš¡ SQLite Concurrency Stress"
          ],
          "duration": 1335,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "âš¡ SQLite Concurrency Stress ğŸ§¬ WAL Mode Concurrency (20 Parallel Writes)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "ğŸ§¬ WAL Mode Concurrency (20 Parallel Writes)"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 1,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810790147,
        "runtime": 9305,
        "slow": true,
        "start": 1770810780842
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/brady_seed.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "ğŸ‘ª Master Seed: The Brady Bunch"
          ],
          "duration": 8934,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "ğŸ‘ª Master Seed: The Brady Bunch Should successfully seed the entire Brady Bunch household via API",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 14,
          "retryReasons": [],
          "status": "passed",
          "title": "Should successfully seed the entire Brady Bunch household via API"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 5,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810793576,
        "runtime": 2647,
        "slow": false,
        "start": 1770810790929
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/performance/load.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "Performance & Speed Tests"
          ],
          "duration": 97,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Performance & Speed Tests should measure login speed (Heavy Bcrypt)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "should measure login speed (Heavy Bcrypt)"
        },
        {
          "ancestorTitles": [
            "Performance & Speed Tests"
          ],
          "duration": 314,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Performance & Speed Tests should measure GET assets speed (Plain Read)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "should measure GET assets speed (Plain Read)"
        },
        {
          "ancestorTitles": [
            "Performance & Speed Tests"
          ],
          "duration": 355,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Performance & Speed Tests should measure GET finance savings speed (Decryption Overhead)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "should measure GET finance savings speed (Decryption Overhead)"
        },
        {
          "ancestorTitles": [
            "Performance & Speed Tests"
          ],
          "duration": 82,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Performance & Speed Tests should measure POST asset speed (Plain Write)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "should measure POST asset speed (Plain Write)"
        },
        {
          "ancestorTitles": [
            "Performance & Speed Tests"
          ],
          "duration": 1271,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Performance & Speed Tests should handle \"Load\" (Concurrent requests)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "should handle \"Load\" (Concurrent requests)"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 4,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810800760,
        "runtime": 665,
        "slow": false,
        "start": 1770810800095
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/security/audit_poc.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "Security Audit Proof of Concept"
          ],
          "duration": 2,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Security Audit Proof of Concept Vulnerability 1: Hardcoded SECRET_KEY",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "Vulnerability 1: Hardcoded SECRET_KEY"
        },
        {
          "ancestorTitles": [
            "Security Audit Proof of Concept"
          ],
          "duration": 55,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Security Audit Proof of Concept Vulnerability 2: Path Traversal in Backup Download (FIXED)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "Vulnerability 2: Path Traversal in Backup Download (FIXED)"
        },
        {
          "ancestorTitles": [
            "Security Audit Proof of Concept"
          ],
          "duration": 128,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Security Audit Proof of Concept Vulnerability 3: Admin Escalation - Adding user to another household (FIXED)",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "Vulnerability 3: Admin Escalation - Adding user to another household (FIXED)"
        },
        {
          "ancestorTitles": [
            "Security Audit Proof of Concept"
          ],
          "duration": 11,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Security Audit Proof of Concept Tenancy Verification: Viewer of HH 60 cannot access HH 3294",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "Tenancy Verification: Viewer of HH 60 cannot access HH 3294"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 3,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810801334,
        "runtime": 558,
        "slow": false,
        "start": 1770810800776
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/profile.spec.js",
      "testResults": [
        {
          "ancestorTitles": [
            "Profile API"
          ],
          "duration": 28,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Profile API should retrieve the user profile with custom_theme",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 4,
          "retryReasons": [],
          "status": "passed",
          "title": "should retrieve the user profile with custom_theme"
        },
        {
          "ancestorTitles": [
            "Profile API"
          ],
          "duration": 24,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Profile API should update the user theme",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 2,
          "retryReasons": [],
          "status": "passed",
          "title": "should update the user theme"
        },
        {
          "ancestorTitles": [
            "Profile API"
          ],
          "duration": 18,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Profile API should update the custom_theme",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 2,
          "retryReasons": [],
          "status": "passed",
          "title": "should update the custom_theme"
        }
      ],
      "failureMessage": null
    },
    {
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 3,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 1770810801439,
        "runtime": 92,
        "slow": false,
        "start": 1770810801347
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testFilePath": "/home/matt/household-project/server/tests/performance/smoke.test.js",
      "testResults": [
        {
          "ancestorTitles": [
            "Frontend Build Smoke Test"
          ],
          "duration": 1,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Frontend Build Smoke Test index.html should exist after build",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "index.html should exist after build"
        },
        {
          "ancestorTitles": [
            "Frontend Build Smoke Test"
          ],
          "duration": 1,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Frontend Build Smoke Test index.html should contain root div",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "index.html should contain root div"
        },
        {
          "ancestorTitles": [
            "Frontend Build Smoke Test"
          ],
          "duration": 1,
          "failureDetails": [],
          "failureMessages": [],
          "fullName": "Frontend Build Smoke Test JS bundle should be referenced",
          "invocations": 1,
          "location": null,
          "numPassingAsserts": 1,
          "retryReasons": [],
          "status": "passed",
          "title": "JS bundle should be referenced"
        }
      ],
      "failureMessage": null
    },
    {
      "failureMessage": "  \u001b[1mâ— \u001b[22mTest suite failed to run\n\n    Cannot find module '../utils' from 'tests/routes/export.spec.js'\n\n    \u001b[0m \u001b[90m 2 |\u001b[39m \u001b[36mconst\u001b[39m { globalDb\u001b[33m,\u001b[39m getHouseholdDb } \u001b[33m=\u001b[39m require(\u001b[32m'../../db'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 3 |\u001b[39m \u001b[36mconst\u001b[39m app \u001b[33m=\u001b[39m require(\u001b[32m'../../server'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 4 |\u001b[39m \u001b[36mconst\u001b[39m { seedHousehold } \u001b[33m=\u001b[39m require(\u001b[32m'../utils'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 5 |\u001b[39m\n     \u001b[90m 6 |\u001b[39m describe(\u001b[32m'Export Route'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 7 |\u001b[39m   \u001b[36mlet\u001b[39m household\u001b[33m;\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/resolver.js\u001b[2m:427:11)\u001b[22m\n      \u001b[2mat Object.require (\u001b[22m\u001b[0m\u001b[36mtests/routes/export.spec.js\u001b[39m\u001b[0m\u001b[2m:4:27)\u001b[22m\n",
      "leaks": false,
      "numFailingTests": 0,
      "numPassingTests": 0,
      "numPendingTests": 0,
      "numTodoTests": 0,
      "openHandles": [],
      "perfStats": {
        "end": 0,
        "runtime": 0,
        "slow": false,
        "start": 0
      },
      "skipped": false,
      "snapshot": {
        "added": 0,
        "fileDeleted": false,
        "matched": 0,
        "unchecked": 0,
        "uncheckedKeys": [],
        "unmatched": 0,
        "updated": 0
      },
      "testExecError": {
        "code": "MODULE_NOT_FOUND",
        "hint": "",
        "requireStack": [
          "/home/matt/household-project/server/tests/routes/export.spec.js"
        ],
        "siblingWithSimilarExtensionFound": false,
        "moduleName": "../utils",
        "_originalMessage": "Cannot find module '../utils' from 'tests/routes/export.spec.js'"
      },
      "testFilePath": "/home/matt/household-project/server/tests/routes/export.spec.js",
      "testResults": []
    }
  ],
  "wasInterrupted": false
}